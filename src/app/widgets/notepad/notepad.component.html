<div class="notepad-container">
    <ng-container *ngIf="fileHandle || content; else emptyState">
      <!-- Editor / Display -->
      <div *ngIf="!isEditing"
           class="markdown-display"
           [innerHTML]="renderedContent"
           (click)="enableEditing()">
      </div>
      <textarea *ngIf="isEditing"
                #textareaElement
                [(ngModel)]="content" 
                (ngModelChange)="onContentChange()"
                (blur)="onBlur()"
                (focus)="onFocus()"
                placeholder="Write your notes here..."
                class="notepad-textarea">
      </textarea>
    </ng-container>
    
    <ng-template #emptyState>
      <div class="empty-state">
        <button class="action-btn" (click)="openExistingFile()">Open File</button>
        <button class="action-btn" (click)="createNewFile()">New File</button>
      </div>
    </ng-template>
  </div>
  